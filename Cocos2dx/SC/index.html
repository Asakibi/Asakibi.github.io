<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Cocos2d-x 4.0 C++ 新手部分问题一览 - #4</title><meta description="学校暑期的实训中，小组决定使用 Cocos2d-x 4.0 进行开发，制作一款「坦克大战」游戏。然而，网络上关于 Cocos2d-x 4.0 的教程寥寥可数，而旧版本的教程常常佔据搜索引擎前几页，使得新手开发者难以搜寻相关信息。同时，部分用户不规范转载，在内容上疏忽大意，并热衷于取含糊不清的标题，而平台对此监管不力，对搜索引擎使用者造成了困扰。笔者作为第一次接触 Cocos2d-x 4.0 的"><meta property="og:type" content="blog"><meta property="og:title" content="Cocos2d-x 4.0 C++ 新手部分问题一览"><meta property="og:url" content="http://asakibi.githut.io/Cocos2dx/SC/index.html"><meta property="og:site_name" content="#4"><meta property="og:description" content="学校暑期的实训中，小组决定使用 Cocos2d-x 4.0 进行开发，制作一款「坦克大战」游戏。然而，网络上关于 Cocos2d-x 4.0 的教程寥寥可数，而旧版本的教程常常佔据搜索引擎前几页，使得新手开发者难以搜寻相关信息。同时，部分用户不规范转载，在内容上疏忽大意，并热衷于取含糊不清的标题，而平台对此监管不力，对搜索引擎使用者造成了困扰。笔者作为第一次接触 Cocos2d-x 4.0 的"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://asakibi.githut.io/img/og_image.png"><meta property="article:published_time" content="2020-07-19T15:04:54.000Z"><meta property="article:modified_time" content="2020-12-02T11:15:37.091Z"><meta property="article:author" content="Asakibi"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://asakibi.githut.io/Cocos2dx/SC/index.html"},"headline":"#4","image":["http://asakibi.githut.io/img/og_image.png"],"datePublished":"2020-07-19T15:04:54.000Z","dateModified":"2020-12-02T11:15:37.091Z","author":{"@type":"Person","name":"Asakibi"},"description":"学校暑期的实训中，小组决定使用 Cocos2d-x 4.0 进行开发，制作一款「坦克大战」游戏。然而，网络上关于 Cocos2d-x 4.0 的教程寥寥可数，而旧版本的教程常常佔据搜索引擎前几页，使得新手开发者难以搜寻相关信息。同时，部分用户不规范转载，在内容上疏忽大意，并热衷于取含糊不清的标题，而平台对此监管不力，对搜索引擎使用者造成了困扰。笔者作为第一次接触 Cocos2d-x 4.0 的"}</script><link rel="canonical" href="http://asakibi.githut.io/Cocos2dx/SC/index.html"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/kimbie.dark.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">#4</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com/Asakibi"><i class="fab fa-github"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="电子邮件" href="mailto:Asakibi@foxmail.com"><i class="fas fa-envelope"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="微博" href="https://weibo.com/Asakibi"><i class="fab fa-weibo"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><h1 class="title is-3 is-size-4-mobile">Cocos2d-x 4.0 C++ 新手部分问题一览</h1><div class="content"><p>　　学校暑期的实训中，小组决定使用 Cocos2d-x 4.0 进行开发，制作一款「坦克大战」游戏。然而，网络上关于 Cocos2d-x 4.0 的教程寥寥可数，而旧版本的教程常常佔据搜索引擎前几页，使得新手开发者难以搜寻相关信息。同时，部分用户不规范转载，在内容上疏忽大意，并热衷于取含糊不清的标题，而平台对此监管不力，对搜索引擎使用者造成了困扰。笔者作为第一次接触 Cocos2d-x 4.0 的初学者，在游戏开发中也遇到了不少问题，经过不断查找解决思路，有了些许供新手入门的小提示，在此分享出来，以供后继者参考。须注意的是，笔者只是在短暂的时间内接触了 Cocos2d-x 4.0，既无及时的记录和反馈，也无深入的理解和思考，仅仅是不求甚解而已。<br>　　笔者的开发环境：Cocos2d-x 4.0 （C++），Tiled Map Editor 1.4.1，VS 2019，Windows 10。后来用到了 SQLite3。</p>
<a id="more"></a>
<article class="message message-immersive is-primary"><div class="message-body is-size-6" >
<p><i class="fas fa-globe-asia"></i> 该文章有 <a href="../">繁体中文版</a></p>
</div></article>

<hr>
<h3 id="文件路径"><a href="#文件路径" class="headerlink" title="文件路径"></a>文件路径</h3><p>　　关于生成的工程目录，其源代码（.h 文件和 .cpp 文件）应该全部存放于 <code>Classes</code> 文件夹下，而图片、音效、地图等资源文件应全部存放于 <code>Resources</code> 文件夹下。而在代码中调用资源文件时，应将 <code>Resources</code> 看作资源根目录。例如，要调用 <code>Resources\img\tank_1.png</code> 这张图片作为精灵，应该使用如下语句：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">auto</span> tank = Sprite::create(<span class="string">"img\tank_1.png"</span>);</span><br></pre></td></tr></table></figure>
<p>　　其中 <code>auto</code> 关键字会帮助你依据函数返回值自动指定类型。事实上，这里的 <code>tank</code> 是一个 <code>Sprite</code> 指针（Sprite*）。</p>
<hr>
<h3 id="继承自-Scene-类的问题"><a href="#继承自-Scene-类的问题" class="headerlink" title="继承自 Scene 类的问题"></a>继承自 Scene 类的问题</h3><p>　　在程序编写时，常常需要继承自 <code>Scene</code> 类，写出拥有自定义成员变量和成员函数的场景。但对于 Cocos2d-x，在子类不应该写构造函数，而应该用重构的父类的有关函数代替。比如，要写一个继承自 <code>Scene</code> 类的关卡选择类（<code>LevelScene</code>），可以模仿 Cocos2d-x 在创建工程时自带的 <code>HelloWorldScene</code> 类，依照以下步骤写出自己的一个类。</p>
<ol>
<li>将 HelloWorldScene.h 和 HelloWorldScene.cpp 文件内容复制到 <code>LevelScene</code> 类 的有关文件中去。</li>
<li>修改类名、头文件名等为「<code>levelScene</code>」，使其编译可以通过。<br>通俗地讲，就是把 LevelScene 文件中的 <code>HelloWorldScene</code> 都换为 <code>LevelScene</code>。</li>
<li>然后就可以在该子类的 <code>init()</code> 函数下写该场景的内容了。</li>
</ol>
<p>　　至此，该类的大体框架已经构造完成了。在创建该类的对象时，只需调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">auto levelScene &#x3D; LevelScene::create();</span><br></pre></td></tr></table></figure>
<p>　　这里的 <code>levelScene</code> 是一个 <code>LevelScene</code> 指针。</p>
<p>　　然而，有时我们希望向 LevelScene 中传递参数，比如在 <code>LevelScene</code> 中添加一个 <code>gameMode</code> 属性，使得在创建 <code>LevelScene</code> 对象时可以初始化其成员的值。但我们并没有重写其构造函数，该怎麽传递参数呢？<br>　　这时，就需要在以上的基础上修改 <code>LevelScene</code> 中的 <code>createScene()</code> 函数、<code>create()</code> 函数和 <code>init()</code> 函数。具体方法是：</p>
<ol>
<li><p>重写 <code>create()</code> 函数。<br>你可能会觉得奇怪，为什麽 <code>HelloWorldScene</code> 类找不到 <code>create()</code> 函数呢？我该到哪里去找 <code>create()</code> 的函数体？实际上，HelloWorldScene 的声明用宏定义 <code>CREATE_FUNC(HelloWorldScene)</code> 替代了 <code>static HelloWorldScene* create()</code>，因此，你应当把子类的 create() 写作以下形式：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">static</span> __TYPE__* <span class="title">create</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    __TYPE__ *pRet = <span class="keyword">new</span>(<span class="built_in">std</span>::nothrow) __TYPE__();</span><br><span class="line">    <span class="keyword">if</span> (pRet &amp;&amp; pRet-&gt;init())</span><br><span class="line">    &#123;</span><br><span class="line">        pRet-&gt;autorelease();</span><br><span class="line">        <span class="keyword">return</span> pRet;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> pRet;</span><br><span class="line">        pRet = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nullptr</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其中 <code>__TYPE__</code> 要换为该类的类名。</p>
</li>
<li><p>接着，在 <code>createScene()</code> 函数、<code>create()</code> 函数和 <code>init()</code> 函数的声明中添加你想传递的参数。</p>
</li>
<li><p>同样地，在以上函数的函数体内的所有调用 <code>createScene()</code> 函数、<code>create()</code> 函数和 <code>init()</code> 函数之处修改为相应的参数。</p>
</li>
</ol>
<p>　　也就是说，只要在该类上述所有三个函数的括号内加入所有你想传递的参数，就可以实现传参了。</p>
<hr>
<h3 id="继承自-Sprite-类的问题"><a href="#继承自-Sprite-类的问题" class="headerlink" title="继承自 Sprite 类的问题"></a>继承自 Sprite 类的问题</h3><p>　　对于 <code>Sprite</code> 类的子类，也採取相似的操作。然而，创建工程时并没有给出一个继承了 <code>Sprite</code> 类的子类的例子。那我们只能自己动手丰衣足食。如果仅仅是创造一个 <code>Sprite</code> 类的子类 <code>Tank</code> 类，而不向其中传入任何参数的话，你将需要：</p>
<ol>
<li>用子类继承 Sprite 类。</li>
<li>子类中加入 <code>create()</code> 函数。 其格式可以照搬上面所写出的 <code>create()</code> 函数格式。</li>
<li>子类中加入 <code>init()</code> 函数（或者 <code>initWithFile()</code> 函数或 <code>initWithTexture()</code> 函数（统称为初始化函数），这取决于你想用哪种方式创建该子类精灵对象）。如果是採用 <code>init()</code> 函数作为初始化函数，那麽第二步的 <code>create()</code> 函数可以写成之前所说的宏定义。如果不採用 init() 函数，应该把之前的 create() 函数中的 init() 替换为你需要的函数，并添加对应的参数使得编译能够通过。</li>
<li>然后就可以在该子类的 <code>init()</code> 函数中添加该精灵初始化时的操作了。</li>
</ol>
<p>　　如果你想传入参数，只需在上述函数声明和调用时添加参数即可。</p>
<hr>
<h2 id="Tiled-Map-Editor-相关问题"><a href="#Tiled-Map-Editor-相关问题" class="headerlink" title="Tiled Map Editor 相关问题"></a>Tiled Map Editor 相关问题</h2><h3 id="关于某文件-479-行-compression-断言"><a href="#关于某文件-479-行-compression-断言" class="headerlink" title="关于某文件 479 行 compression 断言"></a>关于某文件 479 行 compression 断言</h3><p>　　导入地图文件后，发现弹出窗口报错，指出某文件 479 行 compression 断言错误：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compression == <span class="string">""</span> || compression == <span class="string">"gzip"</span> || compression == <span class="string">"zlib"</span></span><br></pre></td></tr></table></figure>
<p>　　这是由于在 Tiled Map Editor 创建瓦片地图时，没有更改瓦片地图的压缩方式。Cocos2d-x 4.0 的瓦片地图只支持无压缩、gzip 压缩和 zlib 压缩，而 Tiled Map Editor 的默认压缩方式是「Z标准压缩」。<br>　　正确的修改方法，是在 Tiled Map Editor 中选择地图 -&gt; 地图属性，将「图块层格式」设定为「Base64 无压缩」「Base64 gzip压缩」或「Base64 zlib压缩」。</p>
<hr>
<h3 id="关于地图无法在游戏界面正常显示的问题"><a href="#关于地图无法在游戏界面正常显示的问题" class="headerlink" title="关于地图无法在游戏界面正常显示的问题"></a>关于地图无法在游戏界面正常显示的问题</h3><p>　　笔者在制作地图时，先创建了 .tsx 文件，然后以此作为图集来创作地图。但在导入地图，并将地图添加到某个场景的节点之后，地图在游戏界面上的显示非常奇怪。由于无现成的错误地图，只能凭印象描述一下：地图只显示有规律的色块，看得出轮廓但材质极度损害。<br>　　但若直接向 Tiled Map Editor 的「图块集」窗口中拖动图片文件，选择类型为「基于整张图块集图片」，并勾选「嵌入地图」，这样产生的瓦片是可以在 Cocos2d-x 中正常显示的。</p>
<hr>
<h3 id="关于-0x3DC-报错"><a href="#关于-0x3DC-报错" class="headerlink" title="关于 0x3DC 报错"></a>关于 0x3DC 报错</h3><p>　　在获取地图的一瓦片层并对该层上的瓦片进行操作时，出现在 <code>CCGeometry.Cpp</code> 第 46 行的一个断点指出：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">引发了异常: 读取访问权限冲突。other 是 0x3DC。</span><br></pre></td></tr></table></figure>
<p>　　这是由于该瓦片层是空层。应当向该瓦片层添加瓦片，或者在对层操作之前加上一条条件判断语句，保证该指针不为空，如：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!layer)</span><br><span class="line">	<span class="keyword">return</span>;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="关于返回空指针"><a href="#关于返回空指针" class="headerlink" title="关于返回空指针"></a>关于返回空指针</h3><p>　　在遍历地图的所有瓦片时，你可能会遇到这样的问题：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cocos2d::TMXLayer::getTileAt(...) 返回 <span class="literal">nullptr</span>。</span><br></pre></td></tr></table></figure>
<p>　　这是由于你所选择的地方没有瓦片，应当在该语句的外部加上判断条件，筛掉空指针，如：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (getTileAt(Vec(i, j))) &#123;</span><br><span class="line">    <span class="keyword">auto</span> physicsBody = PhysicsBody::createBox(Size(tileSize));</span><br><span class="line">    getTileAt(Vec(i, j))-&gt;addComponent(physicsBody);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="schedule-的选择器问题"><a href="#schedule-的选择器问题" class="headerlink" title="schedule 的选择器问题"></a>schedule 的选择器问题</h3><p>　　在使用 <code>schedule</code> 或 <code>scheduleOnce</code> 时，你可能会对 <code>schedule</code> 函数内的参数感到迷惑。在网络上搜索相关信息，你多半会找到如下内容：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>-&gt;schedule(schedule_selector(EnemyTank::turn), _dt);</span><br></pre></td></tr></table></figure>
<p>　　但如此写会报错，编译器称其为「未定义标识符」。实际上，在 Cocos2d-x 4.0 中，使用的形式应当如下：</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span>-&gt;schedule(CC_SCHEDULE_SELECTOR(EnemyTank::turn), _dt);</span><br></pre></td></tr></table></figure>
</div><!--!--></article></div><!--!--><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><!--!--><div class="card widget"><div class="card-content"><h3 class="menu-label">最新</h3><article class="media"><div class="media-content size-small"><p><time dateTime="2020-12-13T12:57:42.000Z">2020-12-13</time></p><p class="title is-6"><a class="link-muted" href="/FSMHermeneutics1/">飛麵釋經 1：勿做道貌岸然之人</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Essay/">Essay</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-10-31T14:33:43.000Z">2020-10-31</time></p><p class="title is-6"><a class="link-muted" href="/CitiesSkylinesChineseNameList/">Cities: Skylines 本地化嘗試</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Programming/">Programming</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2020-07-19T15:04:54.000Z">2020-07-19</time></p><p class="title is-6"><a class="link-muted" href="/Cocos2dx/">Cocos2d-x 4.0 C++ 新手部分問題一覽</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Programming/">Programming</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2019-10-19T02:33:11.000Z">2019-10-19</time></p><p class="title is-6"><a class="link-muted" href="/HelloWorld/">歡迎來到 #4</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Welcome/">Welcome</a></p></div></article><article class="media"><div class="media-content size-small"><p><time dateTime="2018-07-30T14:00:00.000Z">2018-07-30</time></p><p class="title is-6"><a class="link-muted" href="/Essay1/">隨筆：雷</a></p><p class="is-uppercase"><a class="link-muted" href="/categories/Essay/">Essay</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2020/12/"><span class="level-start"><span class="level-item">十二月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/10/"><span class="level-start"><span class="level-item">十月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2020/07/"><span class="level-start"><span class="level-item">七月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2019/10/"><span class="level-start"><span class="level-item">十月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2018/07/"><span class="level-start"><span class="level-item">七月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/Essay/"><span class="level-start"><span class="level-item">Essay</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Programming/"><span class="level-start"><span class="level-item">Programming</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Welcome/"><span class="level-start"><span class="level-item">Welcome</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C++</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cities-Skylines/"><span class="tag">Cities: Skylines</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Cocos2d-x/"><span class="tag">Cocos2d-x</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/FSM/"><span class="tag">FSM</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/l10n/"><span class="tag">l10n</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%87%8B%E7%B6%93%E5%AD%B8/"><span class="tag">釋經學</span><span class="tag is-grey-lightest">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">#4</a><p class="size-small"><span>&copy; 2020 Asakibi</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="CC BY-NC-ND 4.0" href="https://creativecommons.org/licenses/by-nc-nd/4.0/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="BY" href="https://creativecommons.org/licenses/by-nc-nd/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="NC" href="https://creativecommons.org/licenses/by-nc-nd/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="ND" href="https://creativecommons.org/licenses/by-nc-nd/4.0/"><i class="fab fa-creative-commons-nd"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://asakibi.githut.io',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: false,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="请输入关键词"></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"请输入关键词","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>